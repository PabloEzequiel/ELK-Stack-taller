input {  
  file {
    # path => "${ELK_STACK_TALK_HOME}/Kibana/data/DATASET_03_2016.csv"
    path => "/Users/pabloinchausti/Desktop/DevOps/code/github/Pabloin/ELK-Stack/Kibana/data/DATASET_03_2016.1.csv"
    start_position => "beginning"    
  }
}
filter {  

# FECHA,HORA,WATERQ_Temp,WATERQ_pH,WATERQ_OD,WATERQ_OD_pc,DATASET
# 05/02/2016,13:15:00,13.79,7.42,9.75,94.45,DATASET_03_2016

  csv {
      separator => ","
      columns => ["FECHA","HORA","WATERQ_Temp","WATERQ_pH","WATERQ_OD","WATERQ_OD_pc","DATASET"]
  }
  mutate {convert => ["WATERQ_Temp",  "float"]}
  mutate {convert => ["WATERQ_pH",    "float"]}
  mutate {convert => ["WATERQ_OD",    "float"]}
  mutate {convert => ["WATERQ_OD_pc", "float"]}
}
output {  

    elasticsearch {
        hosts => "http://localhost:9200"
        index => "dataset-03-Y2016"
    }
    
    stdout {}
}